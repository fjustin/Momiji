var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(){return!1}function n(){}function r(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);this[t]=r===e?n:function(){var e=Array.prototype.slice.call(arguments,0);return e[0]=r.apply(null,e),n.apply(null,e)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},Markdown.HookCollection=n,r.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){function e(e){return e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,n,r,o,a){return t=t.toLowerCase(),_.set(t,C(n)),o?r:(a&&I.set(t,a.replace(/"/g,"&quot;")),"")})}function t(e){return e=(e=(e=(e=(e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,o)).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,o)).replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,o)).replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,o)).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,o)}function o(e,t){var n=t;return n=(n=n.replace(/^\n+/,"")).replace(/\n+$/g,""),n="\n\n~K"+(A.push(n)-1)+"K\n\n"}function a(e,n){var r="<hr />\n";return e=x(e=m(e=h(e=(e=(e=(e=d(e=P.preBlockGamut(e,D))).replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r)).replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,r)).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r)))),e=y(e=t(e=P.postBlockGamut(e,D)),n)}function i(e){return e=(e=k(e=C(e=(e=$(e=c(e=u(e=E(e=s(e=b(e=P.preSpanGamut(e)))))))).replace(/~P/g,"://")))).replace(/  +\n/g," <br>\n"),e=P.postSpanGamut(e)}function s(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=R(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function c(e){return e=(e=(e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,l)).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,l)).replace(/(\[([^\[\]]+)\])()()()()()/g,l)}function l(e,t,n,r,o,a,i,s){s==undefined&&(s="");var c=t,l=n.replace(/:\/\//g,"~P"),u=r.toLowerCase(),f=o,d=s;if(""==f)if(""==u&&(u=l.toLowerCase().replace(/ ?\n/g," ")),f="#"+u,_.get(u)!=undefined)f=_.get(u),I.get(u)!=undefined&&(d=I.get(u));else{if(!(c.search(/\(\s*\)$/m)>-1))return c;f=""}var h='<a href="'+(f=R(f=H(f),"*_"))+'"';return""!=d&&(h+=' title="'+(d=R(d=p(d),"*_"))+'"'),h+=">"+l+"</a>"}function u(e){return e=(e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,f)).replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,f)}function p(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function f(e,t,n,r,o,a,i,s){var c=t,l=n,u=r.toLowerCase(),f=o,d=s;if(d||(d=""),""==f){if(""==u&&(u=l.toLowerCase().replace(/ ?\n/g," ")),f="#"+u,_.get(u)==undefined)return c;f=_.get(u),I.get(u)!=undefined&&(d=I.get(u))}l=R(p(l),"*_[]()");var h='<img src="'+(f=R(f,"*_"))+'" alt="'+l+'"';return h+=' title="'+(d=R(d=p(d),"*_"))+'"',h+=" />"}function d(e){return e=(e=(e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+i(t)+"</h1>\n\n"})).replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+i(t)+"</h2>\n\n"})).replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+i(n)+"</h"+r+">\n\n"})}function h(e,t){e+="~0";var n=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return N?e=e.replace(n,function(e,n,r){var o=n,a=r.search(/[*+-]/g)>-1?"ul":"ol",i=g(o,a,t);return i="<"+a+">"+(i=i.replace(/\s+$/,""))+"</"+a+">\n"}):(n=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(n,function(e,t,n,r){var o=t,a=n,i=r.search(/[*+-]/g)>-1?"ul":"ol",s=g(a,i);return s=o+"<"+i+">\n"+s+"</"+i+">\n"})),e=e.replace(/~0/,"")}function g(e,t,n){N++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var r=q[t],o=new RegExp("(^[ \\t]*)("+r+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+r+")[ \\t]+))","gm"),s=!1;return e=(e=e.replace(o,function(e,t,r,o){var c=o,l=/\n\n$/.test(c);return l||c.search(/\n{2,}/)>-1||s?c=a(L(c),!0):(c=(c=h(L(c),!0)).replace(/\n$/,""),n||(c=i(c))),s=l,"<li>"+c+"</li>\n"})).replace(/~0/g,""),N--,e}function m(e){return e=(e=(e+="~0").replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,o=n;return"\n\n"+(r="<pre><code>"+(r=(r=(r=B(r=w(L(r)))).replace(/^\n+/g,"")).replace(/\n+$/g,""))+"\n</code></pre>")+"\n\n"+o})).replace(/~0/,"")}function v(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(A.push(e)-1)+"K\n\n"}function b(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r){var o=r;return t+"<code>"+(o=(o=w(o=(o=o.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""))).replace(/:\/\//g,"~P"))+"</code>"})}function w(e){return e=R(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),"*_{}[]\\",!1)}function k(e){return e=(e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4")).replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function x(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return v("<blockquote>\n"+(n=(n=(n=a(n=(n=(n=n.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""))).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=(n=n.replace(/^  /gm,"~0")).replace(/~0/g,"")}))+"\n</blockquote>")})}function y(e,t){for(var n=(e=(e=e.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),r=[],o=/~K(\d+)K/,a=n.length,s=0;s<a;s++){var c=n[s];o.test(c)?r.push(c):/\S/.test(c)&&(c=(c=i(c)).replace(/^([ \t]*)/g,"<p>"),c+="</p>",r.push(c))}if(!t){a=r.length;for(s=0;s<a;s++)for(var l=!0;l;)l=!1,r[s]=r[s].replace(/~K(\d+)K/g,function(e,t){return l=!0,A[t]})}return r.join("\n\n")}function C(e){return e=(e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function E(e){return e=(e=e.replace(/\\(\\)/g,M)).replace(/\\([`*_{}\[\]()>#+-.!])/g,M)}function T(e,t,n,r){if(t)return e;if(")"!==r.charAt(r.length-1))return"<"+n+r+">";for(var o=r.match(/[()]/g),a=0,i=0;i<o.length;i++)"("===o[i]?a<=0?a=1:a++:a--;var s="";if(a<0){var c=new RegExp("\\){1,"+-a+"}$");r=r.replace(c,function(e){return s=e,""})}if(s){var l=r.charAt(r.length-1);W.test(l)||(s=l+s,r=r.substr(0,r.length-1))}return"<"+n+r+">"+s}function $(e){var t=function(e,t){return'<a href="'+t+'">'+P.plainLinkText(t)+"</a>"};return e=(e=e.replace(F,T)).replace(/<((https?|ftp):[^'">\s]+)>/gi,t)}function S(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function L(e){return e=(e=e.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")}function B(e){if(!/\t/.test(e))return e;var t,n=["    ","   ","  "," "],r=0;return e.replace(/[\n\t]/g,function(e,o){return"\n"===e?(r=o+1,e):(t=(o-r)%4,r=o+1,n[t])})}function H(e){if(!e)return"";var t=e.length;return e.replace(O,function(n,r){return"~D"==n?"%24":":"!=n||r!=t-1&&!/[0-9\/]/.test(e.charAt(r+1))?"%"+n.charCodeAt(0).toString(16):":"})}function R(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var o=new RegExp(r,"g");return e=e.replace(o,M)}function M(e,t){return"~E"+t.charCodeAt(0)+"E"}var _,I,A,N,P=this.hooks=new n;P.addNoop("plainLinkText"),P.addNoop("preConversion"),P.addNoop("postNormalization"),P.addNoop("preBlockGamut"),P.addNoop("postBlockGamut"),P.addNoop("preSpanGamut"),P.addNoop("postSpanGamut"),P.addNoop("postConversion"),this.makeHtml=function(n){if(_)throw new Error("Recursive call to converter.makeHtml");return _=new r,I=new r,A=[],N=0,n=(n=B(n="\n\n"+(n=(n=(n=(n=(n=P.preConversion(n)).replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"))+"\n\n")).replace(/^[ \t]+$/gm,""),n=(n=(n=S(n=a(n=e(n=t(n=P.postNormalization(n)))))).replace(/~D/g,"$$")).replace(/~T/g,"~"),n=P.postConversion(n),A=I=_=null,n};var D=function(e){return a(e)},q={ol:"\\d+[.]",ul:"[*+-]"},K="[-A-Z0-9+&@#/%=~_|[\\])]",F=new RegExp('(="|<)?\\b(https?|ftp)(://'+"[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]"+"*"+K+")(?=$|\\W)","gi"),W=new RegExp(K,"i"),O=/(?:["'*()[\]:]|~D)/g}}(),function(){function e(){}function t(e){this.buttonBar=p.getElementById("wmd-button-bar"+e),this.preview=p.getElementById("wmd-preview"+e),this.input=p.getElementById("wmd-input"+e)}function n(e,t){var n,o,a,i=this,s=[],l=0,u="none",p=function(e,t){u!=e&&(u=e,t||d()),g.isIE&&"moving"==u?a=null:o=setTimeout(f,1)},f=function(e){a=new r(t,e),o=undefined};this.setCommandMode=function(){u="command",d(),o=setTimeout(f,0)},this.canUndo=function(){return l>1},this.canRedo=function(){return!!s[l+1]},this.undo=function(){i.canUndo()&&(n?(n.restore(),n=null):(s[l]=new r(t),s[--l].restore(),e&&e())),u="none",t.input.focus(),f()},this.redo=function(){i.canRedo()&&(s[++l].restore(),e&&e()),u="none",t.input.focus(),f()};var d=function(){var o=a||new r(t);if(!o)return!1;"moving"!=u?(n&&(s[l-1].text!=n.text&&(s[l++]=n),n=null),s[l++]=o,s[l+1]=null,e&&e()):n||(n=o)},h=function(e){var t=!1;if(e.ctrlKey||e.metaKey){var n=e.charCode||e.keyCode;switch(String.fromCharCode(n)){case"y":i.redo(),t=!0;break;case"z":e.shiftKey?i.redo():i.undo(),t=!0}}t&&(e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1))},m=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&t<=40||t>=63232&&t<=63235?p("moving"):8==t||46==t||127==t?p("deleting"):13==t?p("newlines"):27==t?p("escape"):(t<16||t>20)&&91!=t&&p("typing")}},v=function(){c.addEvent(t.input,"keypress",function(e){!e.ctrlKey&&!e.metaKey||89!=e.keyCode&&90!=e.keyCode||e.preventDefault()});var e=function(){(g.isIE||a&&a.text!=t.input.value)&&o==undefined&&(u="paste",d(),f())};c.addEvent(t.input,"keydown",h),c.addEvent(t.input,"keydown",m),c.addEvent(t.input,"mousedown",function(){p("moving")}),t.input.onpaste=e,t.input.ondrop=e};(function(){v(),f(!0),d()})()}function r(t,n){var r=this,o=t.input;this.init=function(){c.isVisible(o)&&(!n&&p.activeElement&&p.activeElement!==o||(this.setInputAreaSelectionStartEnd(),this.scrollTop=o.scrollTop,(!this.text&&o.selectionStart||0===o.selectionStart)&&(this.text=o.value)))},this.setInputAreaSelection=function(){if(c.isVisible(o))if(o.selectionStart===undefined||g.isOpera){if(p.selection){if(p.activeElement&&p.activeElement!==o)return;o.focus();var e=o.createTextRange();e.moveStart("character",-o.value.length),e.moveEnd("character",-o.value.length),e.moveEnd("character",r.end),e.moveStart("character",r.start),e.select()}}else o.focus(),o.selectionStart=r.start,o.selectionEnd=r.end,o.scrollTop=r.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(t.ieCachedRange||!o.selectionStart&&0!==o.selectionStart){if(p.selection){r.text=c.fixEolChars(o.value);var e=t.ieCachedRange||p.selection.createRange(),n=c.fixEolChars(e.text),a="\x07",i=a+n+a;e.text=i;var s=c.fixEolChars(o.value);e.moveStart("character",-i.length),e.text=n,r.start=s.indexOf(a),r.end=s.lastIndexOf(a)-a.length;var l=r.text.length-c.fixEolChars(o.value).length;if(l){for(e.moveStart("character",-n.length);l--;)n+="\n",r.end+=1;e.text=n}t.ieCachedRange&&(r.scrollTop=t.ieCachedScrollTop),t.ieCachedRange=null,this.setInputAreaSelection()}}else r.start=o.selectionStart,r.end=o.selectionEnd},this.restore=function(){r.text!=undefined&&r.text!=o.value&&(o.value=r.text),this.setInputAreaSelection(),o.scrollTop=r.scrollTop},this.getChunks=function(){var t=new e;return t.before=c.fixEolChars(r.text.substring(0,r.start)),t.startTag="",t.selection=c.fixEolChars(r.text.substring(r.start,r.end)),t.endTag="",t.after=c.fixEolChars(r.text.substring(r.end)),t.scrollTop=r.scrollTop,t},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function o(e,t,n){var r,o,a,i=3e3,s="delayed",u=function(e,t){c.addEvent(e,"input",t),e.onpaste=t,e.ondrop=t,c.addEvent(e,"keypress",t),c.addEvent(e,"keydown",t)},f=function(){var e=0;return window.innerHeight?e=window.pageYOffset:p.documentElement&&p.documentElement.scrollTop?e=p.documentElement.scrollTop:p.body&&(e=p.body.scrollTop),e},d=function(){if(t.preview){var n=t.input.value;if(!n||n!=a){a=n;var r=(new Date).getTime();n=e.makeHtml(n);var i=(new Date).getTime();o=i-r,C(n)}}},h=function(){if(r&&(clearTimeout(r),r=undefined),"manual"!==s){var e=0;"delayed"===s&&(e=o),e>i&&(e=i),r=setTimeout(d,e)}},m=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},v=function(){t.preview&&(t.preview.scrollTop=(t.preview.scrollHeight-t.preview.clientHeight)*m(t.preview))};this.refresh=function(e){e?(a="",d()):h()},this.processingTime=function(){return o};var b,w=!0,k=function(e){var n=t.preview,r=n.parentNode,o=n.nextSibling;r.removeChild(n),n.innerHTML=e,o?r.insertBefore(n,o):r.appendChild(n)},x=function(e){t.preview.innerHTML=e},y=function(e){if(b)return b(e);try{x(e),b=x}catch(t){(b=k)(e)}},C=function(e){var r=l.getTop(t.input)-f();if(t.preview&&(y(e),n()),v(),w)w=!1;else{var o=l.getTop(t.input)-f();g.isIE?setTimeout(function(){window.scrollBy(0,o-r)},0):window.scrollBy(0,o-r)}};(function(){u(t.input,h),d(),t.preview&&(t.preview.scrollTop=0)})()}function a(e,t,n,o,a,i){function s(e){if(h.focus(),e.textOp){n&&n.setCommandMode();var a=new r(t);if(!a)return;var i=a.getChunks(),s=function(){h.focus(),i&&a.setChunks(i),a.restore(),o.refresh()};e.textOp(i,s)||s()}e.execute&&e.execute(n)}function l(e,t){t?(e.disabled=!1,e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),s(this),!1})):e.disabled=!0}function u(e){return"string"==typeof e&&(e=a[e]),function(){e.apply(a,arguments)}}function p(){var n=t.buttonBar,r=document.createElement("div");r.id="wmd-button-row"+e,r.className="btn-toolbar",r=n.appendChild(r);var o=function(t,n,o,a,i){var s=document.createElement("button");s.className="btn btn-default btn-sm";var c=document.createElement("i");return c.className=o,s.appendChild(c),s.id=t+e,s.title=n,a&&(s.textOp=a),l(s,!0),i?i.appendChild(s):r.appendChild(s),s},a=function(t){var n=document.createElement("div");return n.className="btn-group wmd-button-group"+t,n.id="wmd-button-group"+t+e,r.appendChild(n),n},s=a(1);m.bold=o("wmd-bold-button","Bold (Ctrl+B)","fa fa-bold",u("doBold"),s),m.italic=o("wmd-italic-button","Italic (Ctrl+I)","fa fa-italic",u("doItalic"),s);var c=a(2);m.link=o("wmd-link-button","Link (Ctrl+L)","fa fa-link",u(function(e,t){return this.doLinkOrImage(e,t,!1)}),c),m.image=o("wmd-image-button","Image (Ctrl+G)","fa fa-picture-o",u(function(e,t){return this.doLinkOrImage(e,t,!0)}),c),m.quote=o("wmd-quote-button","Blockquote (Ctrl+Q)","fa fa-quote-left",u("doBlockquote"),c),m.code=o("wmd-code-button","Code Sample (Ctrl+K)","fa fa-code",u("doCode"),c);var p=a(3);m.ulist=o("wmd-ulist-button","Bulleted List (Ctrl+U)","fa fa-list-ul",u(function(e,t){this.doList(e,t,!1)}),p),m.olist=o("wmd-olist-button","Numbered List (Ctrl+O)","fa fa-list-ol",u(function(e,t){this.doList(e,t,!0)}),p),m.heading=o("wmd-heading-button","Heading (Ctrl+H)","fa fa-font",u("doHeading"),p);var h=a(4);m.undo=o("wmd-undo-button","Undo (Ctrl+Z)","fa fa-undo",null,h),m.undo.execute=function(e){e&&e.undo()};var g=/win/.test(d.platform.toLowerCase())?"Redo (Ctrl+Y)":"Redo (Ctrl+Shift+Z)";if(m.redo=o("wmd-redo-button",g,"fa fa-repeat",null,h),m.redo.execute=function(e){e&&e.redo()},i){var v=a(5);v.className=v.className+" pull-right";var b=document.createElement("button"),w=document.createElement("i");w.className="fa fa-info",b.appendChild(w),b.className="btn btn-info btn-sm",b.id="wmd-help-button"+e,b.isHelp=!0,b.title=i.title||E,b.onclick=i.handler,l(b,!0),v.appendChild(b),m.help=b}f()}function f(){n&&(l(m.undo,n.canUndo()),l(m.redo,n.canRedo()))}var h=t.input,m={};p();var v="keydown";g.isOpera&&(v="keypress"),c.addEvent(h,v,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode;switch(String.fromCharCode(t).toLowerCase()){case"b":s(m.bold);break;case"i":s(m.italic);break;case"l":s(m.link);break;case"q":s(m.quote);break;case"k":s(m.code);break;case"g":s(m.image);break;case"o":s(m.olist);break;case"u":s(m.ulist);break;case"h":s(m.heading);break;case"r":s(m.hr);break;case"y":s(m.redo);break;case"z":e.shiftKey?s(m.redo):s(m.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),c.addEvent(h,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey&&13===(e.charCode||e.keyCode)){var t={};t.textOp=u("doAutoindent"),s(t)}}),g.isIE&&c.addEvent(h,"keydown",function(e){if(27===e.keyCode)return!1}),this.setUndoRedoButtonStates=f}function i(e){this.hooks=e}function s(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){return t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g," ")}),t=decodeURIComponent(t),t=(t=encodeURI(t).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")).replace(/\?.*$/,function(e){return e.replace(/\+/g,"%2b")}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=$.trim(n).replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t})}var c={},l={},u={},p=window.document,f=window.RegExp,d=window.navigator,h={lineLength:72},g={isIE:/msie/.test(d.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(d.userAgent.toLowerCase())||/msie 5/.test(d.userAgent.toLowerCase()),isOpera:/opera/.test(d.userAgent.toLowerCase())},m="Insert link",v="Link URL",b='http://example.com/ "optional title"',w="Enter URL to point link to and optional title to display when mouse is placed over the link",k="Insert image",x="Image URL",y='http://example.com/images/diagram.jpg "optional title"',C="Enter URL where image is located and optional title to display when mouse is placed over the image",E="Markdown Editing Help";Markdown.Editor=function(e,r,s){r=r||"";var c=this.hooks=new Markdown.HookCollection;c.addNoop("onPreviewRefresh"),c.addNoop("postBlockquoteCreation"),c.addFalse("insertImageDialog"),this.getConverter=function(){return e};var l,u=this;this.run=function(){if(!l){l=new t(r);var f,d,h=new i(c),g=new o(e,l,function(){c.onPreviewRefresh()});/\?noundo/.test(p.location.href)||(f=new n(function(){g.refresh(),d&&d.setUndoRedoButtonStates()},l),this.textOperation=function(e){f.setCommandMode(),e(),u.refreshPreview()}),(d=new a(r,l,f,g,h,s)).setUndoRedoButtonStates(),(u.refreshPreview=function(){g.refresh(!0)})()}}},e.prototype.findTags=function(e,t){var n,r=this;e&&(n=c.extendRegExp(e,"","$"),this.before=this.before.replace(n,function(e){return r.startTag=r.startTag+e,""}),n=c.extendRegExp(e,"^",""),this.selection=this.selection.replace(n,function(e){return r.startTag=r.startTag+e,""})),t&&(n=c.extendRegExp(t,"","$"),this.selection=this.selection.replace(n,function(e){return r.endTag=e+r.endTag,""}),n=c.extendRegExp(t,"^",""),this.after=this.after.replace(n,function(e){return r.endTag=e+r.endTag,""}))},e.prototype.trimWhitespace=function(e){var t,n,r=this;e?t=n="":(t=function(e){return r.before+=e,""},n=function(e){return r.after=e+r.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},e.prototype.skipLines=function(e,t,n){var r,o;if(e===undefined&&(e=1),t===undefined&&(t=1),e++,t++,navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+f.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+f.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+f.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+f.$1,this.before){for(r=o="";e--;)r+="\\n?",o+="\n";n&&(r="\\n*"),this.before=this.before.replace(new f(r+"$",""),o)}if(this.after){for(r=o="";t--;)r+="\\n?",o+="\n";n&&(r="\\n*"),this.after=this.after.replace(new f(r,""),o)}},c.isVisible=function(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0},c.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},c.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},c.fixEolChars=function(e){return e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")},c.extendRegExp=function(e,t,n){null!==t&&t!==undefined||(t=""),null!==n&&n!==undefined||(n="");var r,o=e.toString();return o=(o=o.replace(/\/([gim]*)$/,function(e,t){return r=t,""})).replace(/(^\/|\/$)/g,""),new f(o=t+o+n,r)},l.getTop=function(e,t){var n=e.offsetTop;if(!t)for(;e=e.offsetParent;)n+=e.offsetTop;return n},l.getHeight=function(e){return e.offsetHeight||e.scrollHeight},l.getWidth=function(e){return e.offsetWidth||e.scrollWidth},l.getPageSize=function(){var e,t,n,r;return self.innerHeight&&self.scrollMaxY?(e=p.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):p.body.scrollHeight>p.body.offsetHeight?(e=p.body.scrollWidth,t=p.body.scrollHeight):(e=p.body.offsetWidth,t=p.body.offsetHeight),self.innerHeight?(n=self.innerWidth,r=self.innerHeight):p.documentElement&&p.documentElement.clientHeight?(n=p.documentElement.clientWidth,r=p.documentElement.clientHeight):p.body&&(n=p.body.clientWidth,r=p.body.clientHeight),[Math.max(e,n),Math.max(t,r),n,r]},u.prompt=function(e,t,n,r,o){var a,i;n===undefined&&(n="");var s=function(e){27===(e.charCode||e.keyCode)&&l(!0)},l=function(e){c.removeEvent(p.body,"keydown",s);var t=i.value;return e?t=null:(t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t)),$(a).modal("hide"),o(t),!1},u=function(){(a=p.createElement("div")).className="modal fade",a.style.display="none";var o=p.createElement("div");o.className="modal-dialog",a.appendChild(o);var u=p.createElement("div");u.className="modal-content",o.appendChild(u);var f=p.createElement("div");f.className="modal-header",f.innerHTML='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <h3 class="modal-title">'+e+"</h3>",u.appendChild(f);var d=p.createElement("div");d.className="modal-body",u.appendChild(d);var h=p.createElement("div");h.className="modal-footer",u.appendChild(h);var g=p.createElement("form");g.onsubmit=function(){return l(!1)},d.appendChild(g);var m=p.createElement("div");m.className="form-group",g.appendChild(m);var v=p.createElement("label");v.htmlFor="url-"+(new Date).getTime(),v.innerHTML=t,m.appendChild(v),(i=p.createElement("input")).id=v.htmlFor,i.type="text",i.className="form-control",i.placeholder=n,m.appendChild(i);var b=p.createElement("span");b.className="help-block",b.innerHTML=r||"",m.appendChild(b);var w=p.createElement("button");w.className="btn btn-primary",w.type="button",w.onclick=function(){return l(!1)},w.innerHTML="OK";var k=p.createElement("button");k.className="btn btn-default",k.type="button",k.onclick=function(){return l(!0)},k.innerHTML="Cancel",h.appendChild(w),h.appendChild(k),c.addEvent(p.body,"keydown",s),p.body.appendChild(a)};setTimeout(function(){u();var e=0;if(i.selectionStart!==undefined)i.selectionStart=0,i.selectionEnd=e;else if(i.createTextRange){var t=i.createTextRange();t.collapse(!1),t.moveStart("character",-e),t.moveEnd("character",e),t.select()}$(a).on("shown",function(){i.focus()}),$(a).on("hidden",function(){a.parentNode.removeChild(a)}),$(a).modal()},0)};var T=i.prototype;T.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",T.unwrap=function(e){var t=new f("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},T.wrap=function(e,t){this.unwrap(e);var n=new f("(.{1,"+t+"})( +|$\\n?)","gm"),r=this;e.selection=e.selection.replace(n,function(e,t){return new f("^"+r.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},T.doBold=function(e,t){return this.doBorI(e,t,2,"strong text")},T.doItalic=function(e,t){return this.doBorI(e,t,1,"emphasized text")},T.doBorI=function(e,t,n,r){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var o=/(\**$)/.exec(e.before)[0],a=/(^\**)/.exec(e.after)[0],i=Math.min(o.length,a.length);if(i>=n&&(2!=i||1!=n))e.before=e.before.replace(f("[*]{"+n+"}$",""),""),e.after=e.after.replace(f("^[*]{"+n+"}",""),"");else if(!e.selection&&a){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var s=f.$1;e.before=e.before+a+s}else{e.selection||a||(e.selection=r);var c=n<=1?"*":"**";e.before=e.before+c,e.after=c+e.after}},T.stripLinkDefs=function(e,t){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,n,r,o,a){return t[n]=e.replace(/\s*$/,""),o?(t[n]=e.replace(/["(](.+?)[")]$/,""),o+a):""})},T.addLinkDef=function(e,t){var n=0,r={};e.before=this.stripLinkDefs(e.before,r),e.selection=this.stripLinkDefs(e.selection,r),e.after=this.stripLinkDefs(e.after,r);var o="",a=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,i=function(e){n++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+n+"]:"),o+="\n"+e},s=function(e,t,o,c,l,u){return o=o.replace(a,s),r[l]?(i(r[l]),t+o+c+n+u):e};e.before=e.before.replace(a,s),t?i(t):e.selection=e.selection.replace(a,s);var c=n;return e.after=e.after.replace(a,s),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+o,c},T.doLinkOrImage=function(e,t,n){if(e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/),!(e.endTag.length>1&&e.startTag.length>0)){if(e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection))return void this.addLinkDef(e,null);var r=this,o=function(o){if(null!==o){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var a=" [999]: "+s(o),i=r.addLinkDef(e,a);e.startTag=n?"![":"[",e.endTag="]["+i+"]",e.selection||(e.selection=n?"enter image description here":"enter link description here")}t()};return n?this.hooks.insertImageDialog(o)||u.prompt(k,x,y,C,o):u.prompt(m,v,b,w,o),!0}e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null)},T.doAutoindent=function(e){var t=this,n=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),e.selection||/^[ \t]*(?:\n|$)/.test(e.after)||(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),n=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&t.doList&&t.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&t.doBlockquote&&t.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&t.doCode&&t.doCode(e),n&&(e.after=e.selection+e.after,e.selection="")},T.doBlockquote=function(e){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,r,o){return e.before+=n,e.after=o+e.after,r}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){return e.selection=n+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||"Blockquote";var t,n="",r="";if(e.before){for(var o=e.before.replace(/\n$/,"").split("\n"),a=!1,i=0;i<o.length;i++){var s=!1;t=o[i],a=a&&t.length>0,/^>/.test(t)?(s=!0,!a&&t.length>1&&(a=!0)):s=!!/^[ \t]*$/.test(t)||a,s?n+=t+"\n":(r+=n+t,n="\n")}/(^|\n)>/.test(n)||(r+=n,n="")}e.startTag=n,e.before=r,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var c=function(t){var n=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,h.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),c(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),c(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),e.selection=this.hooks.postBlockquoteCreation(e.selection),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,n){return e.startTag+=n,""}))},T.doCode=function(e){var t=/\S[ ]*$/.test(e.before);if(!/^[ ]*\S/.test(e.after)&&!t||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var n=1,r=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(n=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(r=0),e.skipLines(n,r),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^[ ]{4}/gm,""):(e.startTag="    ",e.selection="enter code here")}else e.trimWhitespace(),e.findTags(/`/,/`/),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection="enter code here"))},T.doList=function(e,t,n){var r=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,o=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,a="-",i=1,s=function(){var e;return n?(e=" "+i+". ",i++):e=" "+a+" ",e},c=function(e){return n===undefined&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return s()})};if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var l=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),l&&(e.after=e.after.replace(o,c)),n==l)return}var u=1;e.before=e.before.replace(r,function(e){return/^\s*([*+-])/.test(e)&&(a=f.$1),u=/[^\n]\n\n[^\n]/.test(e)?1:0,c(e)}),e.selection||(e.selection="List item");var p=s(),d=1;e.after=e.after.replace(o,function(e){return d=/[^\n]\n\n[^\n]/.test(e)?1:0,c(e)}),e.trimWhitespace(!0),e.skipLines(u,d,!0),e.startTag=p;var g=p.replace(/./g," ");this.wrap(e,h.lineLength-g.length),e.selection=e.selection.replace(/\n/g,"\n"+g)},T.doHeading=function(e){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection="Heading",void(e.endTag="");var t=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(t=f.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(t=1),/-+/.test(e.endTag)&&(t=2),e.startTag=e.endTag="",e.skipLines(1,1);var n=0==t?2:t-1;if(n>0){var r=n>=2?"-":"=",o=e.selection.length;for(o>h.lineLength&&(o=h.lineLength),e.endTag="\n";o--;)e.endTag+=r}},T.doHorizontalRule=function(e){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}(),function(){function e(e){return e.replace(/<[^>]*>?/gi,t)}function t(e){return e.match(a)||e.match(i)||e.match(s)||e.match(c)?e:""}function n(e){if(""==e)return"";var t,n,r=/<\/?\w+[^>]*(\s|$|>)/g,o=e.toLowerCase().match(r),a=(o||[]).length;if(0==a)return e;for(var i,s="<p><img><br><li><hr>",c=[],l=[],u=!1,p=0;p<a;p++)if(t=o[p].replace(/<\/?(\w+).*/,"$1"),!(c[p]||s.search("<"+t+">")>-1)){if(n=o[p],i=-1,!/^<\//.test(n))for(var f=p+1;f<a;f++)if(!c[f]&&o[f]=="</"+t+">"){i=f;break}-1==i?u=l[p]=!0:c[i]=!0}if(!u)return e;p=0;return e=e.replace(r,function(e){var t=l[p]?"":e;return p++,t})}var r,o;"object"==typeof exports&&"function"==typeof require?(r=exports,o=require("./Markdown.Converter").Converter):(r=window.Markdown,o=r.Converter),r.getSanitizingConverter=function(){var t=new o;return t.hooks.chain("postConversion",e),t.hooks.chain("postConversion",n),t}
;var a=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,i=/^(<a\shref="(https?:(\/\/|\/)|ftp:(\/\/|\/)|mailto:|magnet:)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,s=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i,c=/^(<pre(\sclass="prettyprint linenums")?>|<\/pre>)$/i}(),function(){function e(e){return e.replace(/^\s+|\s+$/g,"")}function t(e){return e.replace(/\s+$/g,"")}function n(e){return e.replace(new RegExp("^(\\t|[ ]{1,4})","gm"),"")}function r(e,t){return-1!=e.indexOf(t)}function o(e,t){return e.replace(/<[^>]*>?/gi,function(e){return e.match(t)?e:""})}function a(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=e[r];for(r=0;r<t.length;r++)n[t[r]]=t[r];var o=[];for(var a in n)n.hasOwnProperty(a)&&o.push(n[a]);return o}function i(e){return"\x02"!=e.charAt(0)&&(e="\x02"+e),"\x03"!=e.charAt(e.length-1)&&(e+="\x03"),e}function s(e){return"\x02"==e.charAt(0)&&(e=e.substr(1)),"\x03"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e}function c(e,t){return o(l(e,t),g)}function l(e,t){var n=t.blockGamutHookCallback(e);return n=(n=f(n)).replace(/~D/g,"$$").replace(/~T/g,"~"),n=t.previousPostConversion(n)}function u(e){return e.replace(/\\\|/g,"~I").replace(/\\:/g,"~i")}function p(e){return e.replace(/~I/g,"|").replace(/~i/g,":")}function f(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function d(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function h(e,t){var n=t;return n=(n=(n=(n=(n=(n=(n=n.replace(/&\#8220;/g,'"')).replace(/&\#8221;/g,'"')).replace(/&\#8216;/g,"'")).replace(/&\#8217;/g,"'")).replace(/&\#8212;/g,"---")).replace(/&\#8211;/g,"--")).replace(/&\#8230;/g,"...")}var g=new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),Markdown.Extra=function(){this.converter=null,this.hashBlocks=[],this.footnotes={},this.usedFootnotes=[],this.attributeBlocks=!1,this.googleCodePrettify=!1,this.highlightJs=!1,this.tableClass="",this.tabWidth=4},Markdown.Extra.init=function(e,t){var n=new Markdown.Extra,o=[],a=[],i=[],s=["unHashExtraBlocks"];return(t=t||{}).extensions=t.extensions||["all"],r(t.extensions,"all")&&(t.extensions=["tables","fenced_code_gfm","def_list","attr_list","footnotes","smartypants","strikethrough","newlines"]),a.push("wrapHeaders"),r(t.extensions,"attr_list")&&(o.push("hashFcbAttributeBlocks"),a.push("hashHeaderAttributeBlocks"),s.push("applyAttributeBlocks"),n.attributeBlocks=!0),r(t.extensions,"fenced_code_gfm")&&(a.push("fencedCodeBlocks"),o.push("fencedCodeBlocks")),r(t.extensions,"tables")&&a.push("tables"),r(t.extensions,"def_list")&&a.push("definitionLists"),r(t.extensions,"footnotes")&&(o.push("stripFootnoteDefinitions"),a.push("doFootnotes"),s.push("printFootnotes")),r(t.extensions,"smartypants")&&s.push("runSmartyPants"),r(t.extensions,"strikethrough")&&i.push("strikethrough"),r(t.extensions,"newlines")&&i.push("newlines"),e.hooks.chain("postNormalization",function(e){return n.doTransform(o,e)+"\n"}),e.hooks.chain("preBlockGamut",function(e,t){return n.blockGamutHookCallback=t,e=u(e),e=p(e=n.doTransform(a,e)+"\n")}),e.hooks.chain("postSpanGamut",function(e){return n.doTransform(i,e)}),n.previousPostConversion=e.hooks.postConversion,e.hooks.chain("postConversion",function(e){return e=n.doTransform(s,e),n.hashBlocks=[],n.footnotes={},n.usedFootnotes=[],e}),"highlighter"in t&&(n.googleCodePrettify="prettify"===t.highlighter,n.highlightJs="highlight"===t.highlighter),"table_class"in t&&(n.tableClass=t.table_class),n.converter=e,n},Markdown.Extra.prototype.doTransform=function(e,t){for(var n=0;n<e.length;n++)t=this[e[n]](t);return t},Markdown.Extra.prototype.hashExtraBlock=function(e){return"\n<p>~X"+(this.hashBlocks.push(e)-1)+"X</p>\n"},Markdown.Extra.prototype.hashExtraInline=function(e){return"~X"+(this.hashBlocks.push(e)-1)+"X"},Markdown.Extra.prototype.unHashExtraBlocks=function(e){function t(){var r=!1;e=e.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(e,t){r=!0;var o=parseInt(t,10);return n.hashBlocks[o]}),!0===r&&t()}var n=this;return t(),e},Markdown.Extra.prototype.wrapHeaders=function(e){function t(e){return"\n"+e+"\n"}return e=(e=(e=e.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,t)).replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,t)).replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm,t)};var m="\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}",v=new RegExp("^(#{1,6}.*#{0,6})[ \\t]+"+m+"[ \\t]*(?:\\n|0x03)","gm"),b=new RegExp("^(.*)[ \\t]+"+m+"[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))","gm"),w=new RegExp("^(```[ \\t]*[^{\\s]*)[ \\t]+"+m+"[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(e){function t(e,t,r){return"<p>~XX"+(n.hashBlocks.push(r)-1)+"XX</p>\n"+t+"\n"}var n=this;return e=(e=e.replace(v,t)).replace(b,t)},Markdown.Extra.prototype.hashFcbAttributeBlocks=function(e){function t(e,t,r){return"<p>~XX"+(n.hashBlocks.push(r)-1)+"XX</p>\n"+t+"\n"}var n=this;return e.replace(w,t)},Markdown.Extra.prototype.applyAttributeBlocks=function(e){var t=this,n=new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");return e=e.replace(n,function(e,n,r,o,i){if(!r)return"";for(var s=parseInt(n,10),c=t.hashBlocks[s],l=c.match(/#[^\s#.]+/g)||[],u=l[0]?' id="'+l[0].substr(1,l[0].length-1)+'"':"",p=c.match(/\.[^\s#.]+/g)||[],f=0;f<p.length;f++)p[f]=p[f].substr(1,p[f].length-1);var d="";return o&&(p=a(p,[o])),p.length>0&&(d=' class="'+p.join(" ")+'"'),"<"+r+u+d+i})},Markdown.Extra.prototype.tables=function(t){function n(t,n,o,a){n=n.replace(/^ *[|]/m,""),o=o.replace(/^ *[|]/m,""),a=a.replace(/^ *[|]/gm,""),n=n.replace(/[|] *$/m,""),o=o.replace(/[|] *$/m,""),a=a.replace(/[|] *$/gm,""),alignspecs=o.split(/ *[|] */),align=[];for(var i=0;i<alignspecs.length;i++){var s=alignspecs[i];s.match(/^ *-+: *$/m)?align[i]=' style="text-align:right;"':s.match(/^ *:-+: *$/m)?align[i]=' style="text-align:center;"':s.match(/^ *:-+ *$/m)?align[i]=' style="text-align:left;"':align[i]=""}var l=n.split(/ *[|] */),u=l.length,p=["<table",r.tableClass?' class="'+r.tableClass+'"':"",">\n","<thead>\n","<tr>\n"].join("");for(i=0;i<u;i++){var f=c(e(l[i]),r);p+=["  <th",align[i],">",f,"</th>\n"].join("")}p+="</tr>\n</thead>\n";var d=a.split("\n");for(i=0;i<d.length;i++)if(!d[i].match(/^\s*$/)){for(var h=d[i].split(/ *[|] */),g=u-h.length,m=0;m<g;m++)h.push("");for(p+="<tr>\n",m=0;m<u;m++){var v=c(e(h[m]),r);p+=["  <td",align[m],">",v,"</td>\n"].join("")}p+="</tr>\n"}return p+="</table>\n",r.hashExtraBlock(p)}var r=this,o=new RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm"),a=new RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");return t=(t=t.replace(o,n)).replace(a,n)},Markdown.Extra.prototype.stripFootnoteDefinitions=function(e){var t=this;return e=e.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(e,n,r){return n=d(n),r=(r+="\n").replace(/^[ ]{0,3}/g,""),t.footnotes[n]=r,"\n"})},Markdown.Extra.prototype.doFootnotes=function(e){var t=this;if(!0===t.isConvertingFootnote)return e;var n=0;return e=e.replace(/\[\^(.+?)\]/g,function(e,r){var o=d(r);if(t.footnotes[o]===undefined)return e;n++,t.usedFootnotes.push(o);var a='<a href="#fn:'+o+'" id="fnref:'+o+'" title="See footnote" class="footnote">'+n+"</a>";return t.hashExtraInline(a)})},Markdown.Extra.prototype.printFootnotes=function(e){var t=this;if(0===t.usedFootnotes.length)return e;e+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var n=0;n<t.usedFootnotes.length;n++){var r=t.usedFootnotes[n],o=t.footnotes[r];t.isConvertingFootnote=!0;var a=c(o,t);delete t.isConvertingFootnote,e+='<li id="fn:'+r+'">'+a+' <a href="#fnref:'+r+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}return e+="</ol>\n</div>"},Markdown.Extra.prototype.fencedCodeBlocks=function(e){function t(e){return e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/~D/g,"$$")).replace(/~T/g,"~")}var n=this;return e=e.replace(/(?:^|\n)```[ \t]*(\S*)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(e,r,o){var a=r,i=o,s=n.googleCodePrettify?' class="prettyprint"':"",c="";a&&(c=n.googleCodePrettify||n.highlightJs?' class="language-'+a+'"':' class="'+a+'"');var l=["<pre",s,"><code",c,">",t(i),"</code></pre>"].join("");return n.hashExtraBlock(l)})},Markdown.Extra.prototype.educatePants=function(e){var t=this,n="",r=0;e.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(o,a,i,s,c,l,u){var p=e.substring(r,u);n+=t.applyPants(p),t.smartyPantsLastChar=n.substring(n.length-1),r=u+o.length,a?(/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(i)?t.smartyPantsLastChar=c.substring(c.length-1):c=t.educatePants(c),n+=a+i+s+c+l):n+=o});var o=e.substring(r);return n+=t.applyPants(o),t.smartyPantsLastChar=n.substring(n.length-1),n},Markdown.Extra.prototype.applyPants=function(e){return e=(e=(e=e.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;")).replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,"&#8230;")).replace(/``/g,"&#8220;").replace(/''/g,"&#8221;"),/^'$/.test(e)?/\S/.test(this.smartyPantsLastChar)?"&#8217;":"&#8216;":/^"$/.test(e)?/\S/.test(this.smartyPantsLastChar)?"&#8221;":"&#8220;":e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8217;")).replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8221;")).replace(/"'(?=\w)/g,"&#8220;&#8216;")).replace(/'"(?=\w)/g,"&#8216;&#8220;")).replace(/'(?=\d{2}s)/g,"&#8217;")).replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g,"$1&#8216;")).replace(/([^\s\[\{\(\-])'/g,"$1&#8217;")).replace(/'(?=\s|s\b)/g,"&#8217;")).replace(/'/g,"&#8216;")).replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g,"$1&#8220;")).replace(/([^\s\[\{\(\-])"/g,"$1&#8221;")).replace(/"(?=\s)/g,"&#8221;")).replace(/"/gi,"&#8220;")},Markdown.Extra.prototype.runSmartyPants=function(e){return this.smartyPantsLastChar="",e=(e=this.educatePants(e)).replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,h)},Markdown.Extra.prototype.definitionLists=function(t){var n=new RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm"),r=this;return s(t=(t=i(t)).replace(n,function(t,n,o){var a=e(r.processDefListItems(o));return a="<dl>\n"+a+"\n</dl>",n+r.hashExtraBlock(a)+"\n\n"}))},Markdown.Extra.prototype.processDefListItems=function(r){var o=this,a=new RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm"),u=new RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");return s(r=(r=(r=(r=i(r)).replace(/\n{2,}(?=\\x03)/,"\n")).replace(a,function(t,n,r){for(var a=e(r).split("\n"),i="",s=0;s<a.length;s++){var l=a[s];i+="\n<dt>"+(l=c(e(l),o))+"</dt>"}return i+"\n"})).replace(u,function(e,r,a,i){return"\n<dd>"+(i=r||i.match(/\n{2,}/)?"\n"+l(i=n(i=Array(a.length+1).join(" ")+i)+"\n\n",o)+"\n":c(n(i=t(i)),o))+"</dd>\n"}))},Markdown.Extra.prototype.strikethrough=function(e){return e.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,"$1<del>$2</del>$3")},Markdown.Extra.prototype.newlines=function(e){return e.replace(/(<(?:br|\/li)>)?\n/g,function(e,t){return t?e:" <br>\n"})}}();